import{d as y,r as h,a as w,c,b as t,w as l,e as n,i as a,t as V,f as B,V as b,h as E,E as r,o as p,_ as M}from"./index-CV45lKxV.js";const U={class:"upload-paper-container"},k={class:"upload-content"},C={key:0,class:"upload-status"},N=y({__name:"UploadPaperView",setup(P){const s=h(null),i=w({Authorization:`Bearer ${localStorage.getItem("token")}`}),u=o=>o.type==="application/pdf"||o.type==="application/msword"||o.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?o.size/1024/1024<20?(s.value={message:"正在上传文件，请稍候...",type:"info"},!0):(r.error("文件大小不能超过 20MB!"),!1):(r.error("请上传 .doc, .docx 或 .pdf 格式的文件!"),!1),_=(o,e)=>{r.success("论文上传成功！"),s.value={message:"论文上传成功！文件将被系统分析并评分。",type:"success"}},f=o=>{console.error("上传失败:",o),r.error("上传失败，请稍后重试"),s.value={message:"上传失败，请稍后重试。",type:"error"}},m=()=>{r.warning("一次只能上传一个文件")};return(o,e)=>{const d=n("el-icon"),v=n("el-upload"),x=n("el-alert"),g=n("el-card");return p(),c("div",U,[t(g,{class:"upload-card"},{header:l(()=>e[0]||(e[0]=[a("div",{class:"card-header"},[a("h2",null,"上传论文")],-1)])),default:l(()=>[a("div",k,[e[3]||(e[3]=a("p",{class:"upload-description"}," 上传您的论文文档，支持 .doc, .docx, .pdf 格式。 论文将由系统进行智能分析，并提供评分和改进建议。 ",-1)),t(v,{class:"upload-area",drag:"",action:"/api/student/upload","on-success":_,"on-error":f,"before-upload":u,headers:i,limit:1,"on-exceed":m},{tip:l(()=>e[1]||(e[1]=[a("div",{class:"el-upload__tip"}," 请上传 .doc, .docx 或 .pdf 格式文件，文件大小不超过 20MB ",-1)])),default:l(()=>[t(d,{class:"el-icon--upload"},{default:l(()=>[t(B(b))]),_:1}),e[2]||(e[2]=a("div",{class:"el-upload__text"},[E(" 拖拽文件到此处或 "),a("em",null,"点击上传")],-1))]),_:1},8,["headers"]),s.value?(p(),c("div",C,[t(x,{title:s.value.message,type:s.value.type,closable:!1,"show-icon":""},null,8,["title","type"])])):V("",!0)])]),_:1})])}}}),z=M(N,[["__scopeId","data-v-be6c6768"]]);export{z as default};
